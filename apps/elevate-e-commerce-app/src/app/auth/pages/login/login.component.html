<section>
  <h3 class="text-center text-title text-4xl">
    {{ 'auth.login.h' | translate }}
  </h3>

  <hr class="text-zinc-400 mb-6 mt-4" />

  @if(errorMsg()) {
  <p-message severity="error" icon="pi pi-times-circle" styleClass="mb-4">{{
    errorMsg()
  }}</p-message>
  }

  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <div class="flex flex-col gap-4">
      <div>
        @let emailCtrl = loginForm.get("email");

        <app-base-input
          [label]="'auth.input.email' | translate"
          type="email"
          placeholder="user@example.com"
          formControlName="email"
        />

        @if (emailCtrl?.errors && emailCtrl?.touched) {
        <p-message severity="error" variant="simple">
          @if (emailCtrl?.getError("required")) { Email is required!! } @else if
          (emailCtrl?.getError("email")) { Email is invalid! }
        </p-message>
        }
      </div>

      <div>
        @let passwordCtrl = loginForm.get("password");

        <app-base-input
          [label]="'auth.input.password' | translate"
          type="password"
          placeholder="********"
          formControlName="password"
        />

        @if (passwordCtrl?.errors && passwordCtrl?.touched) {
        <p-message severity="error" variant="simple">
          @if (passwordCtrl?.getError("required")) { Password is required!! }
          @else if (passwordCtrl?.getError("pattern")) { Password must have
          atleast one uppercase, lowercase, number and special char!! }
        </p-message>
        }
      </div>
    </div>

    <a
      class="text-sm font-semibold block w-fit mt-2.5 text-main ms-auto"
      routerLink="/auth/forget-password"
      >{{ 'auth.login.forgetpassword' | translate }}
    </a>

    <app-submit-btn
      [isSubmitting]="isSubmitting()"
      [label]="'auth.login.loginBtn' | translate"
    />

    <hr class="text-zinc-400 my-5" />

    <p class="text-center">
      <span>{{ 'auth.dontHaveAccount' | translate }}</span>
      <a class="text-main" routerLink="/auth">
        {{ 'auth.createAccountNow' | translate }}</a
      >
    </p>
  </form>
</section>
