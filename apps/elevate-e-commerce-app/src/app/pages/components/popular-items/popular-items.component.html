<section class="my-6 lg:my-8 pb-28 mx-4 lg:mx-20">
  <div class="wrapper">
    <div
      class="title flex flex-col justify-between items-center flex-wrap sm:flex-row">
      <h1 class="heading">{{ 'home.popularItems.h1' | translate }}</h1>
    <ul class="flex items-center gap-4 flex-wrap shrink-0 my-6 lg:pr-0 xl:mr-10">
          @for (item of categories().slice(0,4); track $index) {
        <li>
          <button
            (click)="filterByCategory(item._id)"
            [ngClass]="{
              'text-main border-main border-b': currentCategory() === item._id,
              'text-title': currentCategory() !== item._id
            }"
            class="pb-1 text-xl capitalize cursor-pointer transition duration-200">
            {{ item.name }}
          </button>
        </li>
        }
      </ul>
    </div>

    <div
      class="grid gap-8 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 place-items-center sm:place-items-start">
      @for (item of products(); track item._id) {
      <app-card
        [productId]="item._id"
        [title]="item.title"
        [imgCover]="item.imgCover"
        [price]="item.price"
        [priceAfterDiscount]="item.priceAfterDiscount"
        [rateAvg]="item.rateAvg"
      >
      </app-card>
      }
    </div>
  </div>
</section>
